<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Creative Archive</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Authentication Modal -->
    <div id="auth-overlay" class="auth-overlay">
        <div class="auth-modal">
            <h2 id="auth-title">Sign In to Team Archive</h2>
            <div id="auth-error"></div>
            
            <form id="auth-form">
                <div id="username-group" class="form-group hidden">
                    <label for="username">Username</label>
                    <input type="text" id="username">
                </div>
                
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" required>
                </div>
                
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" required>
                </div>
                
                <button type="submit" id="auth-submit" class="btn">
                    Sign In
                </button>
            </form>
            
            <div class="auth-switch">
                <span id="auth-switch-text">Don't have an account?</span>
                <button type="button" id="auth-switch-btn">Sign Up</button>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app-container" class="container hidden">
        <div class="sidebar">
            <div class="sidebar-header">
                <h1>Team Archive</h1>
                <div class="user-info">
                    <div class="user-avatar" id="user-avatar">U</div>
                    <div>
                        <div id="user-name" style="font-weight: 600; font-size: 14px;">Username</div>
                        <div id="user-role" style="font-size: 12px; opacity: 0.8;">Member</div>
                    </div>
                    <button class="logout-btn" onclick="logout()">Logout</button>
                </div>
            </div>
            
            <div class="collections">
                <div class="collection-item active" data-collection="all" onclick="selectCollection('all')">
                    <span>üìö All Items</span>
                    <span class="collection-count" id="count-all">0</span>
                </div>
                <div class="collection-item" data-collection="inspiration" onclick="selectCollection('inspiration')">
                    <span>‚ú® Inspiration</span>
                    <span class="collection-count" id="count-inspiration">0</span>
                </div>
                <div class="collection-item" data-collection="design" onclick="selectCollection('design')">
                    <span>üé® Design</span>
                    <span class="collection-count" id="count-design">0</span>
                </div>
                <div class="collection-item" data-collection="research" onclick="selectCollection('research')">
                    <span>üîç Research</span>
                    <span class="collection-count" id="count-research">0</span>
                </div>
                <div class="collection-item" data-collection="resources" onclick="selectCollection('resources')">
                    <span>üìé Resources</span>
                    <span class="collection-count" id="count-resources">0</span>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="header">
                <h2 id="current-collection">All Items</h2>
                <div class="header-actions">
                    <button class="btn-secondary" onclick="showAddItemModal()">
                        + Add Item
                    </button>
                    <button class="btn-secondary" onclick="exportData()">
                        üì§ Export
                    </button>
                </div>
            </div>

            <div class="archive-content">
                <div class="search-bar">
                    <input type="text" class="search-input" id="search-input" 
                           placeholder="Search your archive..." 
                           onkeyup="handleSearch()"
                           oninput="handleSearch()">
                    <button class="btn-secondary" onclick="clearSearch()">Clear</button>
                </div>
                
                <div class="grid" id="archive-grid">
                    <!-- Items will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Add Item Modal -->
    <div class="modal" id="add-item-modal">
        <div class="modal-content">
            <h3>Add New Item</h3>
            <form id="add-item-form">
                <div class="form-group">
                    <label>Title *</label>
                    <input type="text" id="item-title" required>
                </div>
                
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="item-description" rows="3" style="width: 100%; padding: 10px; border: 1px solid #dee2e6; border-radius: 6px; resize: vertical;"></textarea>
                </div>
                
                <div class="form-group">
                    <label>Collection *</label>
                    <select id="item-collection" required style="width: 100%; padding: 10px; border: 1px solid #dee2e6; border-radius: 6px;">
                        <option value="Inspiration">‚ú® Inspiration</option>
                        <option value="Design">üé® Design</option>
                        <option value="Research">üîç Research</option>
                        <option value="Resources">üìé Resources</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Tags (comma-separated)</label>
                    <input type="text" id="item-tags" placeholder="design, inspiration, ui">
                </div>
                
                <div class="form-group">
                    <label>URL</label>
                    <input type="url" id="item-url" placeholder="https://...">
                </div>
                
                <div class="form-group">
                    <label>Files</label>
                    <div class="file-upload" onclick="document.getElementById('item-files').click()">
                        <input type="file" id="item-files" multiple accept="image/*,video/*,.pdf,.doc,.docx,.txt">
                        <div>üìÅ Click to upload files</div>
                        <div style="font-size: 12px; margin-top: 5px; opacity: 0.7;">
                            Images, videos, documents (max 10MB each)
                        </div>
                    </div>
                    <div id="selected-files"></div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('add-item-modal')">Cancel</button>
                    <button type="submit" class="btn-primary">Add Item</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/archive.js"></script>
    <script src="js/app.js"></script>
    <script src="js/live-reload.js"></script>
</body>
</html>